<main class="h-screen w-screen px-4 py-6 lg:px-10">
  <div class="flex h-full w-full flex-col gap-8 text-slate-900">
    <section class="grid flex-1 min-h-0 gap-6 overflow-hidden xl:grid-cols-2">
    <app-customer-chat
      [sessionId]="sessionId"
      [customerThread]="customerThread"
      [isCreatingSession]="isCreatingSession"
      [isSessionReady]="isSessionReady"
      [isSendingMessage]="isSendingMessage"
      [sessionError]="sessionError"
      [customerName]="customerName"
      [assistantName]="assistantName"
      [composerInput]="composerInput"
      [isAssistantThinking]="isAssistantThinking"
      (startSession)="startNewSession()"
      (composerInputChange)="composerInput = $event"
      (sendMessage)="sendCustomerMessage()"
    ></app-customer-chat>

      <app-agent-panel
        [showAgentPanel]="showAgentPanel"
        [humanAgentName]="humanAgentName"
        [assistantName]="assistantName"
        [agentTransferSummary]="agentTransferSummary"
        [showAgentSummary]="showAgentSummary"
        [agentThread]="agentThread"
        [showAgentHistory]="showAgentHistory"
        [agentAiThread]="agentAiThread"
        [showAgentAiChat]="showAgentAiChat"
        [agentComposerInput]="agentComposerInput"
        [isAgentAiThinking]="isAgentAiThinking"
        (toggleSummary)="toggleAgentSummary()"
        (toggleHistory)="toggleAgentHistory()"
        (toggleAgentAiChat)="toggleAgentAiChat()"
        (agentComposerInputChange)="agentComposerInput = $event"
        (sendAgentMessage)="sendAgentMessage()"
      ></app-agent-panel>
    </section>
  </div>

  @if (showAgentPanel) {
    <!-- <app-floating-chat></app-floating-chat> -->
  }
</main>
